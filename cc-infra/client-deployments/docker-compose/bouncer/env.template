# Control Core - Standalone Bouncer Configuration
# Copy this file to .env and fill in your values

# Version
CC_VERSION=latest

# Bouncer Identity
BOUNCER_NAME=api-gateway-prod
TENANT_ID=your-tenant-id
API_KEY=CHANGE_ME_BOUNCER_API_KEY

# Bouncer Ports
BOUNCER_PORT=8080
METRICS_PORT=9090

# Target Application (the application you want to protect)
TARGET_HOST=your-api.example.com:443
TARGET_PORT=443

# Control Plane Connection
# For Self-Hosted: http://your-controlplane.example.com:8000
# For Pro Plan: https://your-tenant.controlcore.io
PAP_API_URL=https://your-tenant.controlcore.io

# OPAL Configuration (auto-configured from PAP_API_URL if not specified)
OPAL_SERVER_URL=
OPAL_CLIENT_ID=
OPAL_CLIENT_SECRET=

# GitHub Policy Repository (Optional - for direct GitHub sync)
GITHUB_REPO_URL=https://github.com/your-org/policies
GITHUB_REPO_BRANCH=main
GITHUB_TOKEN=ghp_your_github_token
GITHUB_POLICY_PATH=policies/api-gateway-prod/

# Caching Configuration
CACHE_ENABLED=true
CACHE_TTL=5m
CACHE_MAX_SIZE=1000
DECISION_CACHE_TTL=1m

# Logging
LOG_LEVEL=info

# TLS/SSL Configuration (Optional - for HTTPS)
TLS_ENABLED=false
TLS_CERTS_PATH=./certs
TLS_CERT_PATH=/certs/tls.crt
TLS_KEY_PATH=/certs/tls.key

# Redis Configuration (Optional - for distributed caching)
REDIS_PORT=6380
REDIS_PASSWORD=CHANGE_ME_REDIS_PASSWORD

# To enable Redis caching, start with:
# docker compose --profile with-redis up -d
